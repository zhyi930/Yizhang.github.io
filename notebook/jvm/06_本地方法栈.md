# 本地方法栈
***
## 1 作用
### Java虚拟机栈用于管理Java方面的调用, 而本地方法栈用于管理本地方法的调用
***
## 2 特点
### (1) 本地方法栈, 是线程私有的
### (2) 允许被实现成固定或者是可动态拓展的内存大小
* 如果线程请求分配的栈容量超过本地方法栈允许的最大容量, Java虚拟机就会抛出StackOverflowError异常
* 如果本地方法栈可以动态拓展, 并且在尝试拓展时无法申请到足够的内存, 或者在创建新线程时没有足够的内存去创建对应的本地方法栈, 那么Java虚拟机将会抛出一个OutOfMemory异常
### (3) 具体做法: 在本地方法栈中登记本地方法, 在Excution Engine执行时加载本地方法库
<img src="images\img12.png"> </img>

### (4) 当某个线程调用一个本地方法时, 它就进入了一个全新的并且不再受虚拟机限制的世界, 其和虚拟机有着相同的权限
* 本地方法可以通过本地方法接口来访问虚拟机内部的运行时数据区
* 甚至可以直接使用本地处理器中的寄存器
* 直接从本地内存的堆中分配任意数量的内存
### (5) 并不是所有的JVM都支持本地方法
### (6) 在Hotspot JVM中直接将本地方法栈和虚拟机栈合二为一